<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Fri Aug 09 13:02:22 IST 2019 -->
<title>02. SuperMerge User Guide</title>
<meta name="date" content="2019-08-09">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script src="jquery-3.4.1.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="02. SuperMerge User Guide";
        }
    }
    catch(err) {
    }
//-->
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav">
<h1>02. SuperMerge User Guide</h1>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="contentContainer">

<div class="details">
<ul class="blockList">
<li class="blockList"><!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="0">
</a>
<h3></h3>
<br><br><br>


<img src="images/SuperMergeGuide.png" height=70% width=70% alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="1">
</a>
<h3>1. General Information</h3>
<br>This section explains in general terms, overview and the purpose for which Super Merge Process is intended.<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="1.1">
</a>
<h3>1.1 Overview</h3>
<br>In most of the applications we require data from external system to be pulled in Boardwalk. This data can be master or transactional data related to customer's business and can be pulled from Data Feeds or Direct Integration. 
To transmit this data from these external entities to Boardwalk Cuboids, there are 2 steps<br/><br/>
1. Get Data in the SQL Staging Table &rarr; This can be achieved using various ways like SSIS Packages or Direct Integration<br/>
2. From Staging SQL Table pull data into Boardwalk Cuboids &rarr; This is achieved using Super Merge<br/><br/>

The scope of this document is to cover point #2 from above.<br/><br/>

Super Merge feature enables flow of data from <br/><br/>
&#9830; SQL Table to BW Cuboid<br/>
&#9830; Multiple Cuboids to one Cuboid<br/>  
&#9830; BW Cuboid to BW Cuboid &<br/>
&#9830; BW Cuboid to SQL Table<br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="1.2">
</a>
<h3>1.2 Purpose</h3>
<br>The Super Merge is driven by a SQL Stored Procedures executing on the database. Data transfer takes place by setting Super Merge Rules for following methods.<br/><br/>

&#9830; Merge huge dataset from SQL table into BW Cuboid <br/>
&#9830; Merge data from Boardwalk Cuboid to SQL Table <br/>
&#9830; Merge data from Boardwalk Cuboid to another Boardwalk Cuboid.<br/>
&#9830; Merge data from Multiple Cuboid (2 Cuboids) to One Cuboid<br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<br/><br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="2">
</a>
<h3>2. Getting Started</h3>
<br>Getting Started section presents briefly Pre-Requisite & Initial setup which is necessary to go ahead with execution of Super Merge.
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="2.1">
</a>
<h3>2.1 Pre - Requisites</h3>
<br>To start with the Super Merge - below set up should be present:<br/><br/>
&#9830; The pre-configured Super Merge template which is having below Cuboids with Ids. <br/><br/>

<img src="images/Topic_2_2_1_a.png" alt=""><br/><br/><br/>

The Super Merge rules defined for specific method needs to be inserted into these respective Boardwalk Cuboids.<br/><br/>

&#9830; Super Merge Procedures <br/><br/>


<img src="images/Topic_2_2_1_b.png" alt=""><br/><br/><br/>

&#9830; BW_SUPERMERGE_MEASURE SQL table if Measures needs to be part of SQL Table to Boardwalk Cuboid Super Merge.<br/><br/>

&#9830; SQL Staging tables in which data inserted from data source files.<br/><br/>
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="2.2">
</a>
<h3>2.2 Create SQL Staging Table</h3>
<br>This SQL table will be created as part of SSIS package/Integration and available once Integration implementation is complete; with some data from External system in this SQL table.
This Source SQL Staging Table Primary Key(s) should match with Target Boardwalk Cuboid. 
SQL staging table is used as the source table in SQL table to BW Cuboid merge process. <br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<br/><br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3">
</a>
<h3>3. Processing Merge</h3>
<br>This section provides details about the Boardwalk Cuboids and SQL staging tables with column wise structure description.
And also defining the Super Merge rules and executing the procedure for specific type. 
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.1">
</a>
<h3>3.1 Brect Definition Cuboid (Boardwalk Rectangle Definition)</h3>
<br>This Cuboid is the definition Cuboid i.e. it contains the definition of the Sources and Targets used for Super Merge activity along with the database name and table type respectively.<br/><br/>

Unique BrectName is assigned to the individual definition which again used in merge rules.<br/><br/> 
The Cuboid Id of BRectDefinition is used while defining the merge rule as 'BrectTableID'.<br/><br/>

The columns description of BRectDefinition is as below<br/><br/>


<img src="images/Topic_2_3_1_a.png" alt=""><br/><br/><br/>

The below image will give the brief idea about the BRectDefinition Cuboid.<br/><br/>

<img src="images/Topic_2_3_1_b.png" alt=""><br/><br/><br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.2">
</a>
<h3>3.2 KeyStore Cuboid</h3>
<br>KeyStore Cuboid is used to define keys with respective Cuboid Ids and key columns. <br/><br/>
Information present in KeyStore Cuboid is used in the rule definitions.<br/><br/>

The columns description of KeyStore Cuboid is below<br/><br/>

<img src="images/Topic_2_3_2_a.png" alt=""><br/><br/><br/>

The structure of KeyStore Cuboid is as shown below.<br/><br/>

<img src="images/Topic_2_3_2_b.png" alt=""><br/><br/><br/>

<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.3">
</a>
<h3>3.3 SQL Table to Boardwalk Cuboid</h3>
<br>S2C_SuperMerge_Rules Cuboid is used for defining the Super Merge rule whenever data needs to be merged from SQL Table to Boardwalk Cuboid. <br/><br/>
The column wise description of Cuboid is given below.<br/><br/>

<img src="images/Topic_2_3_3_a.png" alt=""><br/>
<img src="images/Topic_2_3_3_b.png" alt=""><br/>
<img src="images/Topic_2_3_3_c.png" alt=""><br/><br/><br/>

<b>Transpose Flag</b><br/><br/>
This flag is set depends upon the source file data structure. The image given below will give clear idea on this.<br/><br/>

<img src="images/Topic_2_3_3_d.png" alt=""><br/>
<img src="images/Topic_2_3_3_e.png" alt=""><br/><br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.3.1">
</a>
<h3>3.3.1 Configure SQL Table to Cuboid SuperMerge Rule</h3>
<br>Super Merge Rule for SQL table to Boardwalk Cuboid can be created using (Table1 above) the column wise description.<br/><br/>
Following details will clarify rule definition more precisely.<br/><br/>

<b>Steps to perform Super Merge Operation</b><br/><br/>

<b>Step 1:</b> Add definition for source SQL table and target Boardwalk Cuboid in BRectDefintion Cuboid and submit the newly added data. These definition names are used in Super Merge rule.<br/><br/>

<b>Step 2:</b> Set the KeyStore Cuboid for Source table and Target Cuboid Key columns definition. <br/><br/>

<b>Step 3:</b> Set the proper Super Merge Rule. Set BRectDefinition Cuboid Id and respective BrectNames for source and target while defining the Super Merge Rule. Also use the KeyStore Cuboid Id and Key details in the Super Merge Rule. <br/><br/>

&#9830; Proper Rule definition is the important step of Super Merge process for successful execution. Please refer 
Column-wise description for defining the other columns of Super Merge rule.<br/><br/>

<b>Step 4:</b> Confirm the flag setting for Insert, Update and Delete flag.<br/>
Insert_Flag: Set to '1' for inserting new rows into Cuboid else it will be '0'.<br/>
Data present in SQL table but not in Cuboid will get added by setting this flag to '1'. <br/><br/>

<b>Update_Flag:</b> Set to '1' for updating existing record of Cuboid else it will be '0'<br/>
Data present in SQL table and in Cuboid will be updated by setting this flag to '1'.<br/><br/>

<b>Delete_Flag:</b> Set to '1' to delete rows from the Cuboid else it will be '0'. <br/>
Data present in Cuboid but not present in SQL table will be deleted by setting this flag to '1'.<br/><br/>

<b>Step 5:</b> Execute the Super Merge procedure on database server.<br/><br/>

<b>EXEC BW_SUPERMERGE_SQL_TO_CUBOID @RULE_TBL_ID, @RULE_NAME, @USER_NAME</b><br/><br/>

There are three parameters need to pass as shown above, there significance is as given below. <br/><br/>

<b>@RULE_TBL_ID</b>   &rarr;  It is the Cuboid Id of the Super Merge Rule Cuboid<br/>
<b>@RULE_NAME</b>   &rarr;  Super merge Rule Name defined in the Rule Cuboid S2C_SuperMerge_Rules<br/>
<b>@USER_NAME</b>   &rarr;  Integration level Username which exist in BW_USER table.<br/><br/>

<b>Example:</b> <br/><br/>

<b>EXEC BW_SUPERMERGE_SQL_TO_CUBOID 1000004, 'Populate_POD_with_FX', 'BOARDWALK_INTEGRATION'</b><br/><br/>

<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<br/><br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.4">
</a>
<h3>3.4 Boardwalk Cuboid to SQL Table</h3>
<br>C2S_SuperMerge_Rules Cuboid is used for defining the Super Merge rule whenever data needs to be merged from Boardwalk Cuboid to SQL Table. This process is also known as Outbound process i.e. data is transferred from Boardwalk Cuboid to SQL Table for further processing.<br/><br/>

The Column wise description for this Cuboid is as below.<br/><br/>

<img src="images/topic_2_3_4_a.png" alt=""><br/>
<img src="images/topic_2_3_4_b.png" alt=""><br/><br/><br/>

&#9830; Note: TX_ID Transaction id is used whenever the data is required to apply on specific data <br/><br/>
For e.g. data added after month April-2014 then that particular transaction id is specified in the rule for aggregation process. <br/><br/>

Activities performed on Cuboid are maintained as a transaction in BW_TXS SQL table which has timestamp of respective transaction.<br/><br/>
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.4.1">
</a>
<h3>3.4.1 Configure Boardwalk Cuboid to SQL Table SuperMerge Rule</h3>
<br>This is also known as outbound process in which data from source Cuboid is transferred into SQL table created.<br/><br/>

Cuboid to SQL Super Merge can be used for 2 cases.<br/><br/>
1. Normal Data transfer from Cuboid to SQL Table.<br/>
2. Data transfer by aggregating Cuboid data to SQL table.<br/><br/>

SQL table column structure must be same as Cuboid columns. While defining the rule the sequence of columns mentioned in 'SourcePrimaryKey' as Primary Key column must be same as it is in SQL table design. <br/><br/>

Super Merge Rule can be defined with the help of Table 4 Column wise description. The details below show rule defined. <br/><br/>

<b>Steps to perform Super Merge operation</b><br/><br/>

<b>Step 1:</b> Add definitions for Source Boardwalk Cuboid and Target SQL table in BRectDefinition Cuboid as shown. These definitions are used in Super Merge rule.<br/><br/>

<b>Step 2:</b> Set the KeyStore Cuboid for Source Cuboid and Target SQL Table Key columns definition.<br/><br/>

<b>Step 3:</b> Set the proper Supermerge rule. Set BRectDefinition Cuboid Id and respective BrectNames for source and target while defining the Supermerge rule. Also use the KeyStore Cuboid Id and Key details in the Super Merge Rule.<br/><br/>

<b>Step 4:</b> Execute the Super Merge procedure on database server.<br/><br/>

<b>EXEC BW_SUPERMERGE_CUBOID_TO_SQL @RULE_TBL_ID, @RULE_NAME, @USER_NAME, @SQL_TBL_NAME</b><br/><br/>

There are four parameters need to pass as shown above, there significance is as given below.<br/><br/> 

<b>@RULE_TBL_ID</b>   &rarr;  It is the Cuboid Id of the Super Merge Rule Cuboid<br/>
<b>@RULE_NAME</b>   &rarr;  Super merge Rule Name defined in the Rule Cuboid    <br/>
<b>@USER_NAME</b>   &rarr;   Integration level Username which exist in BW_USER table.<br/>
<b>@SQL_TBL_NAME</b>  &rarr;   Name of SQL Target table in which data need to be merged.<br/><br/>

Example: <br/><br/>
<b>EXEC BW_SUPERMERGE_CUBOID_TO_SQL 1000005, 'RulePOD', 'BOARDWALK_INTEGRATION', 'Process_Order_Data'</b><br/><br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<br/><br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.5">
</a>
<h3>3.5 Boardwalk Cuboid to Boardwalk Cuboid</h3>
<br>
C2C_SuperMerge_Rules Cuboid is used for defining the Super Merge rule whenever data needs to be merged from one Boardwalk Cuboid to another Boardwalk Cuboid. <br/><br/>

The column wise description of Cuboid is given below.<br/><br/>

<img src="images/topic_2_3_5_a.png" alt=""><br/>
<img src="images/topic_2_3_5_b.png" alt=""><br/>
<img src="images/topic_2_3_5_c.png" alt=""><br/><br/><br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.5.1">
</a>
<h3>3.5.1 Configure Boardwalk Cuboid to Boardwalk Cuboid SuperMerge Rule</h3>
<br>Super Merge Rule for one Boardwalk Cuboid to another Boardwalk Cuboid can be created using (Table3) the column wise description.<br/><br/>
Following details will clarify rule definition more precisely.<br/><br/>

<b>Steps to perform merge operation</b><br/><br/>

<b>Step 1:</b> Add definition for Source and Target Boardwalk Cuboids in BRectDefintion Cuboid and submit the newly added data. These definition names are used in Super Merge rule.<br/><br/>

<b>Step 2:</b> Set the KeyStore Cuboid for Source and Target Cuboids Key columns definition. <br/><br/>

<b>Step 3:</b> Set the proper Supermerge rule. Set BRectDefinition Cuboid Id and respective BrectNames for source and target while defining the Supermerge rule. Also use the KeyStore Cuboid Id and Key details in the Super Merge Rule. <br/><br/>

<b>Step 4:</b> Confirm the flag setting for Insert, Update and Delete flag.<br/><br/>

<b>Insert Flag:</b> Set to '1' for inserting new rows in to target Cuboid else it will be '0'.
If new rows exist in source table and need to insert in target table based on primary keys, Insert flag is need to set to '1'. <br/><br/>

<b>Update Flag:</b> Set to '1' for updating existing record of target Cuboid else it will be '0'
If source table data updated, then accordingly target table data needs to update w.r.t primary keys then set the update flag to '1'.<br/><br/>

<b>Delete Flag:</b> Set to '1' to delete rows from the target Cuboid else it will be '0'. <br/>
If rows form source table deleted and also need to delete from target table on the basis of primary key columns, then need to set delete flag as '1'.<br/><br/>
&#9830; For other flag settings please refer column wise description table.<br/><br/>

<b>Step 5:</b> Execute the Super Merge procedure on database server.<br/><br/>

<b>EXEC BW_SUPERMERGE_CUBOID_TO_CUBOID @RULE_CUBOID, @RULE_NAME, @SRC_COLUMNS, @TGT_COLUMNS, @MEMBER_ID, @DEBUG_FLAG, @TABLE_NAME, @TABLE_PURPOSE, @INCLUDE_USER_ID_TGT, @TBL_ID_SRC_FILTER, @TBL_ID_TRGT_FILTER, @VIEW,@USER_NAME</b><br/><br/>


There are thirteen parameters need to pass as shown above, there significance is as given below. <br/><br/>

<b>@RULE_CUBOID</b>  &rarr;  It is the Cuboid id of the Super merge Rule table. <br/>
<b>@RULE_NAME</b>   &rarr;  Super merge Rule Name defined in the Rule Cuboid 'C2C_SuperMerge_Rules'<br/>
<b>@SRC_COLUMNS</b>  &rarr;  Blank or Source PK Columns defined in KeyStore Cuboid for PK reference.<br/>
<b>Significance:</b> Source Primary Key columns used for reporting.<br/>
<b>@TGT_COLUMNS</b>  &rarr;  Blank or Target PK Columns defined in KeyStore Cuboid for PK reference.<br/>
<b>Significance:</b> Target Primary Key columns used for reporting.<br/>
<b>@MEMBER_ID</b>   &rarr;  Member Id of respective user obtains from BW_MEMBER table.<br/>
<b>Significance:</b> Each user is member of Neighborhood that Membership Id.<br/>
<b>@DEBUB_FLAG </b>  &rarr;    Value '0' or '1'  <br/>
Set to '1' to print debug messages during procedure execution.<br/>
<b>Significance:</b> Debug messages will be helpful while troubleshooting.<br/>
<b>@TABLE_NAME </b>  &rarr;   Blank for Super Merge rule<br/>  
<b>Significance:</b> Use for reporting.<br/>
<b>@TABLE_PURPOSE</b>  &rarr;    Blank for Super Merge rule<br/>
<b>Significance:</b> Use for reporting.<br/>
<b>@INCLUDE_USER_ID_TGT</b>  &rarr;  -1<br/>
<b>@TBL_ID_SRC_FILTER</b>  &rarr;  -1<br/>
<b>@TBL_ID_TRGT_FILTER</b>  &rarr;  -1<br/>
<b>@VIEW</b>    &rarr;  Blank value<br/>
<b>@USER_NAME</b>   &rarr;   Integration level Username which exist in BW_USER table.<br/>

<b>Example:</b> <br/><br/>
<b>EXEC BW_SUPERMERGE_CUBOID_TO_CUBOID 1000006, 'POD_from_PO', '', '', 2, 1, '', '', -1, -1, -1, '', 'BOARDWALK_INTEGRATION'</b><br/><br/>

Slicing Concept of one Boardwalk Cuboid to another Boardwalk Cuboid:<br/><br/>

There are 2 parameters named as @SRC_SLICES and @TRG_SLICES are of type 'History_Tag_List' which is a table type datatype. History_Tag_List has the below columns.<br/><br/>

<b>NAME </b>  &rarr;  Name assigned for the set  <br/>
<b>CONDITION</b>  &rarr;  Assign number as per slicing condition.<br/>
<b>KEYNAME</b>  &rarr;  Name of the column containing Measures<br/>
<b>VALUE</b>   &rarr;  Specific Measure Name based on which data filtered.<br/>
<b>TX_ID</b>   &rarr;  Default set to '-1' or transaction id generated for slicing activity.<br/> 
<b>PK_KEY</b>   &rarr;  Primary Key Columns of Cuboid (Source or Target).<br/> <br/>

Optional Values can be inserted for slicing for <br/><br/>

<b>Case 1:</b> 1:1 matching condition i.e. one measure form source matching with one of target as<br/><br/>
INSERT INTO @SRC_SLICES<br/>
SELECT 'CURRENT', 1, 'Measure', 'Total Manufacturing Cost', -1, 0<br/>
INSERT INTO @SRC_SLICES<br/>
SELECT 'CURRENT', 2, 'Measure', 'Base Price', -1, 0<br/><br/>

INSERT INTO @TGT_SLICE<br/>
SELECT 'CURRENT', 1, 'Measure', 'Manufacturing Cost', -1, 0<br/>
INSERT INTO @TGT_SLICE<br/>
SELECT 'CURRENT', 2, 'Measure', 'Base price', -1, 0<br/><br/>

<b>Case 2:</b> Slicing for one source measure and two target measures.<br/><br/>
INSERT INTO @SRC_SLICES<br/>
SELECT 'CURRENT', 1, 'FT/PT', 'FT', -1, 0<br/><br/>

INSERT INTO @TGT_SLICE<br/>
SELECT 'CURRENT', 1, 'Measure', 'Changes to FT FTE', -1, 0<br/><br/>

INSERT INTO @TGT_SLICE<br/>
SELECT 'CURRENT', 1, 'Account Sub Category',  'FULL TIME (FTE)', -1, 0<br/><br/>

<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<br/><br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="">
</a>
<h3></h3>
<br><br>

<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.6">
</a>
<h3>3.6 Multiple Boardwalk Cuboids to One Boardwalk Cuboid</h3>
<br>Multi_C2C_SuperMerge_Rules Cuboid is used for defining the Super Merge rule whenever data needs to be merged from 2 Boardwalk Cuboids into a single Boardwalk Cuboid. <br/><br/>

It will form a structure in target Cuboid such that it will be 'Cartesian product' of Source1 and Source2.<br/><br/>

The column wise description of Cuboid is given below.<br/><br/>

<img src="images/topic_2_3_6_a.png" alt=""><br/>
<img src="images/topic_2_3_6_b.png" alt=""><br/>
<img src="images/topic_2_3_6_c.png" alt=""><br/><br/><br/><br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3.6.1">
</a>
<h3>3.6.1 Configure Multiple Boardwalk Cuboid to One Boardwalk Cuboid SuperMerge Rule</h3>
<br>Column wise description (Table 4) can be helpful to define Super Merge rule for Multiple Cuboid to one Cuboid Super Merge.<br/><br/>

Source Cuboid primary key columns and target Cuboid primary key columns must be in same order and sequence.<br/><br/>

Steps to perform Super Merge Operation<br/><br/>

<b>Step 1:</b> Add definition for two source Boardwalk Cuboids and one target Boardwalk Cuboid in BRectDefintion Cuboid and submit the newly added data. These definition names are used in Super Merge rule.<br/><br/>

<b>Step 2:</b> Set the KeyStore Cuboid for Source Cuboids and Target Cuboid Key columns definition.<br/><br/>

<b>Step 3:</b> Set the proper Super Merge Rule. Set BRectDefinition Cuboid Id and respective BrectNames for sources and target while defining the Super Merge Rule. Also use the KeyStore Cuboid Id and Key details in the Super Merge Rule. <br/><br/>

<b>Step 4:</b> Confirm the flag setting for Insert, Update and Delete flag.<br/><br/>

<b>Insert Flag:</b> Set to '1' for inserting new rows in to target Cuboid else it will be '0'.<br/>
If rows added in src1 or src2 Cuboid and need to insert rows in target Cuboid Insert Flag is set to '1' which will add number of rows in target equal to Cartesian product of newly added rows in src1 and src2<br/><br/>
 
<b>Update Flag:</b> Set to '1' for updating existing record of target Cuboid else it will be '0'<br/>
If rows from src1 or src2 are updated and need to update target table then Update flag will be set to '1'<br/><br/>

<b>Delete Flag:</b> Set to '1' to delete rows from the target Cuboid else it will be '0'. <br/>
If any rows are deleted from src1 or src2 and need to delete rows from target table Delete flag set to '1'<br/><br/>

<b>Step 5:</b> Execute the Super Merge procedure on database server.<br/><br/>

<b>EXEC BW_SUPERMERGE_MULTI_CUBOID_TO_CUBOID @BW_RULE_TBL_ID, @BW_RULE_NAME, @DEBUB_FLAG, @USER_ID, @FORMULA_TBL_ID, @PK_FORMULA</b><br/><br/>

There are six parameters need to pass as shown above, there significance is as given below. <br/><br/>

<b>@BW_RULE_TBL_ID</b>  &rarr;   It is the Cuboid Id of the Super Merge Rule Cuboid<br/>
<b>@BW_RULE_NAME</b>  &rarr;   Super merge Rule Name defined in the Rule Cuboid 'Multi_C2C_SuperMerge_Rules'<br/>
<b>@DEBUB_FLAG</b>   &rarr;   Value '0' or '1'  <br/>
Set to '1' to print debug messages during procedure execution.<br/>
<b>Significance:</b> Debug messages will be helpful while troubleshooting.<br/>
<b>@USER_ID</b>   &rarr;   Integration level User Id which exist in BW_USER table.<br/>
<b>@FORMULA_TBL_ID</b>  &rarr;   Formula Cuboid Id if formulas need to be applied.<br/>
<b>@PK_FORMULA</b>  &rarr;  The Primary Key Columns based on which the formulas need to be applied<br/><br/>

<b>Example:</b><br/><br/>
<b>EXEC BW_SUPERMERGE_MULTI_CUBOID_TO_CUBOID 1000007, 'KPI_metrix', 1, 3, -1, ''</b><br/><br/>
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<script type="text/javascript">

</script>

</body>
</html>

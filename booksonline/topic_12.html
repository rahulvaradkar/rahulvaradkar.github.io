<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_171) on Fri Aug 09 13:02:22 IST 2019 -->
<title>12. Grammer Generation</title>
<meta name="date" content="2019-08-09">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
<script type="text/javascript" src="script.js"></script>
<script src="jquery-3.4.1.min.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="12. Grammer Generation";
        }
    }
    catch(err) {
    }
//-->
</script>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav">
<h1>12. Grammer Generation</h1>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="contentContainer">

<div class="details">
<ul class="blockList">
<li class="blockList"><!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="0">
</a>
<h3>Cover Page</h3>
<br>Grammar Generation<br><br>


<img src="images/topic_12_0.jpg" alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="1">
</a>
<h3>1. Introduction</h3>
<br>To read unstructured data from different sources and package it into Structured format we need a Grammer for every entity in data.<br><br>

Generate the Grammer is multi-step process that needs following information to be stored :<br><br>

<b>Step 1:</b> Need to define the Source of the entity.<br>
<b>Step 2:</b> Need to define the relationship of entity with another entity.<br>
<b>Step 3:</b> Need to define the Grammar Rule to generate the Grammar.<br>
<b>Step 4:</b> Extract the Grammer based on above information stored.<br><br><br><br>

<b>Pre-Requisite</b><br><br>
We have the Target Data Structure available and for each column in the Target Data Structure we need to define the Grammer.<br>
The Target Data Structure is available as Tables in Excel Worksheet in structured format.<br>
The Target Data Structure is stored as Cuboid in Boardwalk Collaboration Platform it's structure is available through HTTP Request.<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="2">
</a>
<h3>2. Define the Source of Entity.</h3>
<br>Following queries are answered in this Step :<br><br>
1. What is the Source?<br>
2. What are the columns in the Source?<br>
3. Is there any Measure Column in the Source? If Yes what is the Measure Column Name?<br>
4. What are the Measures defined in the Source?<br>
5. What are the Ids of entities defined in the Source?<br><br>

In this step open <b>Capture Cuboid Data Form</b> by clicking Ribbon Button in Excel.<br><br>
Enter the  <b>URL</b> that points to Boardwalk Collaboration Platform Server. <br><br>
Click <b>GetDataFromServer</b> button to download the list of Cuboid and it's Columns into the Form.<br><br>
The <b>Cuboid List</b> displays the list of  <b>Cuboid Id </b> and  <b>Cuboid Names</b> present on BCP Server.<br><br>
When Cuboid is selected from the  <b>Cuboid List</b>, the corresponding Cuboid Columns are displayed in  <b>Columns List</b>.<br><br>

<b>Setting Primary Key: </b><br>
Select One or More Columns from the  <b>Column List</b> and click  <b>Set Primary Key</b> button to set the  <b>Primary Key Columns</b> Textbox in the form.<br>
The corresponding  <b>Primary Key Column Ids</b> are populated in the  <b>Primary Key Column Ids</b> Textbox in the form.<br><br>

<b>Setting Measure Column: </b><br>
Select a Columns from the  <b>Column List</b> and click  <b>Set Measure Column</b> button to set the  <b>Measure Columns</b> Textbox in the form.<br>
The corresponding  <b>Measure Column Id</b> is populated in the  <b>Measure Column Id</b> Textbox in the form.<br>
The form also displays the <b>List of Measures</b> in the list box.<br><br>

<b>Setting Foreign Key: </b><br>
Click  <b>Set Foreign Key...</b> button that opens <b>Column References Settings</b> form to set the Primary Key References in the Cuboid. More details about this form is given in next topic.<br><br>

All above information captured must be saved by clicking <b>Capture Data</b> button in the form.The form also saves list of Column Names, Column Ids, List of Measures in Captured Data.  All saved captured data are listed in <b>Captured Data</b> list in the form.<br><br>

User can select a <b>Captured Data</b> from the list and display the details in Form Interface by clicking <b>Display Data In Form</b> button.<br><br>

To delete the captured data from the list, user need to select a <b>Captured Data</b> and click <b>Delete Captured Row</b> button.<br><br>

Following image shows the <b>Cuboid Captured Data [Step 1]</b> form.<br><br><br>


<img src="images/topic_12_2.jpg" alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="3">
</a>
<h3>3. Define the relationship of entity with another entity.</h3>
<br>Following queries are answered in this Step :<br><br>
1. Is there any Source Entity referenced to another Source Entity?<br>
2. What is the Source Entity?<br>
3. What is the Referenced Entity?<br>
4. What are the Ids of Source and Referenced entities?<br><br>

User captures this information in "Cuboid References Setting" form. This form is opened by clicking <b>Set Foreign Key...</b> button in <b>Cuboid Capture Data Step[1]</b> form. </br></br>

<b>Cuboid References Settings</b> displays following information:<br><br>
<b>Source Cuboid</b>: The list of cuboids on BCP Server.<br><br>
<b>Source Column List</b>: The list of Columns in selected Source Cuboid.<br><br>
<b>Referenced Cuboid</b>: The list of cuboids on BCP Server.<br><br>
<b>Referenced Column List</b>: The list of Columns in selected Referenced Cuboid.<br><br>
When Source Cuboid is selected the Cuboid Id and Cuboid Name and list of <b>Source Column List</b> is populated.<br><br>
When Referenced Cuboid is selected the Referenced Cuboid Id and Cuboid Name and list of <b>Referenced Column List</b> is populated.<br><br>

When user set one or more Primary Key Columns from Source Column List; the corresponding Primary Key Ids are populated in <b>Primary Key Column Ids</b>.</br><br>

When user set one or more Referenced Columns from Referenced Column List; the corresponding Referenced Column Key Ids are populated in <b>Referenced Column Ids</b>.</br><br>

User need to click <b>Save Foreign Key Data</b> to save this captured information into <b>Foreign Key Data</b> list.<br><br>

To display foreign key data in form interface, user selects the <b>Foreign Key Data</b> from the list and clicks <b>Display Foreign Key Data</b> button.<br><br>
To delete foreign key data from the list, user selects the <b>Foreign Key Data</b> from the list and clicks <b>Delete Foreign Key Data</b> button. The foreign key data is removed from the list after confirmation from user.<br><br>

Following image shows <b>Column References Setting Form</b>.  <br><br>


<img src="images/topic_12_3.jpg" alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="4">
</a>
<h3>4. Define Grammar Rule to generate the Grammar.</h3>
<br>Following queries are answered in this Step :<br><br>

1. What entities in Table are updated?<br>
2. What are the key columns?<br>
3. What are the updated columns?<br>
4. Is there any Measure applied to update the entity?<br>
5. What are the Measure filters applied to update the entity?<br>
6. What is the Grammar Pattern to Generate the Grammer Output?<br><br>

Most of the above queries are answered in previous steps and stored in Captured Data.<br><br>

The Grammar Output Generation is done in <b>Define Grammar Form</b>. This form displays following information: <br><br>

<b>Captured Data List</b><br>
This list shows the information caputured in <b>Capture Cuboid Data [Step 1] Form</b> for every cuboid. This information includes following: <br>
CuboidId,<br> 
CuboidName,<br> 
Primary Key Columns,<br> 
Primary Key ColumnIds,<br> 
List of ColumnsNames and ColumnIds,<br> 
Measure Column and Measure ColumnId,<br> 
List of Measures<br><br>

<b>Grammar Pattern </b><br>
Grammar Pattern is the pattern of Strings to use for generating the Grammer output. The examples of Grammar Patterns are as follows: <br>
[Primary Keys] , [Filter Condition] = [Update Column]<br>
[Primary Keys] = [Update Column]<br>
[Filter Condition] , [Primary Keys] = [Update Column]<br><br>

User selects the Grammar Pattern to generate Grammar Output.<br><br>

<b>Grammar Output </b><br>
Grammar Output is generated using <b>Grammar Pattern</b> by replacing String Patterns by actual <b>Filters</b> and <b>Column Names</b> and <b>Column References</b> of Selected Columns.<br>
First, User can select Grammar Pattern and generate Grammar Output for a Single column. User can confirm the generated Grammar Output and further can generate Grammar Output for Multiple columns.<br><br>
Following are the examples of <b>Grammar Pattern</b> and corresponding <b>Grammar Output</b> generated: <br><br>

Grammar Pattern: [Primary Keys] , [Filter Condition] = [Update Column]	<br>
Grammar Output: [customer|product],filter(measure='Customer Fcst')=update_column('19-Jan')<br><br>

Grammar Pattern: [Primary Keys] = [Update Column]	<br>
Grammar Output: [customer|product]=update_column('19-Jan')<br><br>

Grammar Pattern: [Filter Condition] , [Primary Keys] = [Update Column]	<br>
Grammar Output: filter(measure='Customer Fcst'), [customer|product]=update_column('19-Jan')<br><br>


<b>Grammar Output List</b><br>
The Grammar Output generated is stored in Grammar Outpupt List.<br> 
User can view Grammar Output by selecting it from the list and clicking <b>View Grammar Output</b> in form interface. <br> 
User can delete Grammar Output by selecting it from the list and clicking <b>Delete Grammar Output</b>. <br><br>

Following image shows <b>Define Grammar Form</b>.  

<br><br>


<img src="images/topic_12_4.jpg" alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="5">
</a>
<h3>5. Extract the Grammar based on information captured.</h3>
<br>Cuboid Information Captured while defining the Cuboid Keys and Cuboid Grammar are saved in different NameRanges in Excel.<br>

<b>Extract Data Form</b> is developed to get this captured information as <b>Name=Value</b> pair list for further processing.<br><br>

Extract Data Form displays following :<br><br>

<b>Captured Data Ranges</b><br>
It is the list of NameRanges used to store the Captured Data in Excel.<br><br>

<b>Captured Information</b><br>
It is the list of Columns present in <b>Captured Data Range</b>.<br><br>

<b>Sample Data</b><br>
It displays the Sample List of data present in Selected <b>Captured Information</b> of Selected <b>Captured Data Range</b>.<br><br>

<b>Extract Information List</b><br>
It is the list of the combination of <b>Captured Data Range</b> and <b>Captured Data Column</b> in order to generate <b>Name:Value pair</b> of Extracted information for selected Cuboid.<br>
User can maintain this list of Extract Information by selecting <b>Captured Information</b> of <b>Captured Data Range</b> and clicking <b>Extract This Captured Information</b>.<br> 
User can delete Extract Information by clicking <b>Delete Extract Info Data</b>.<br><br>

<b>Extract Captured Data</b><br>
User can select <b>Extract Information</b> from the List and Choose the <b>Cuboid</b> from Cuboid List, to generate <b>Name:Value pair</b> of that information for that Cuboid.<br><br>

For Example,<br>
To get <b>Grammar Output</b> defined on Cuboid <b>Internal Sales Forecast Weekly</b> user makes following selection and click <b>Extract Captured Data</b>:<br><br>

Captured Data Range : CUBOID_WISE_GRAMMAR_OUTPUT<br> 
Captured Data Column: GrammarOuput<br>
Cuboid : Amazon Forecast Weekly<br><br>

Following is the Extracted Information returned by above query: <br><br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , update_column(['Actual 26-Jan-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , update_column(['Actual 02-Feb-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , update_column(['Forecast 14-Jun-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , update_column(['Forecast 21-Jun-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , Measure , filter([Measure]=['Backlog']) , update_column(['Actual 19-Jan-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br>
GrammerOutput~Customer , Product=LIST(Products|Product Name) , Measure , filter([Measure]=['Backlog']) , update_column(['Actual 26-Jan-2020'])~CUBOID_WISE_GRAMMER_OUTPUT<br><br>


<b>Save Extracted Captured Data To Worksheet</b><br>
'Save Extracted Captured Data To Worksheet' allows user to save the Extracted Information into a Worksheet. <br><br><br>

Following image shows <b>Extract Data Form</b>.  <br>

<br><br>


<img src="images/topic_12_5.jpg" alt="">
<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
<!-- BOOKMARK BLOCK START-->
<ul class="blockList">
<li class="blockList"><a name="6">
</a>
<h3>6. Downloads and Links and Sources</h3>
<br>1. <b><a href="Grammar Generation.7z">Grammar Generation.7z</a></b> : Zip file containing following files,<br><br>

Grammar Generation.xlsb,<br>
GRAMMER_STORED_PROCEDURES.sql,<br>
web.xml,<br>
xlGrammerService.java,<br>
xlGrammerServiceLogic.java.<br <br><br>
<br><br>



<br/><br/>
</li>
</ul>
<!-- BOOKMARK BLOCK END-->
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<script type="text/javascript">
 var curl1 = ''; var result1 = '[]'; $("#curl1").val(curl1); $("#result1").val(result1); var curl2 = ''; var result2 = '[]'; $("#curl2").val(curl2); $("#result2").val(result2); var curl3 = ''; var result3 = '[]'; $("#curl3").val(curl3); $("#result3").val(result3); var curl4 = ''; var result4 = '[]'; $("#curl4").val(curl4); $("#result4").val(result4); var curl5 = ''; var result5 = '[]'; $("#curl5").val(curl5); $("#result5").val(result5); var curl6 = ''; var result6 = '[]'; $("#curl6").val(curl6); $("#result6").val(result6);
</script>

</body>
</html>
